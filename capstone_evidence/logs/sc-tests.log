
> bharatvote@1.0.0 test:contracts
> npx hardhat test

[dotenv@17.2.3] injecting env (3) from .env -- tip: ğŸ” prevent committing .env to code: https://dotenvx.com/precommit


  BharatVote
    Deployment
      âˆš should set the correct admin (114ms)
      âˆš should start in commit phase
      âˆš should have zero candidates initially
    Candidate Management
      âˆš allows admin to add candidate and emits event
      âˆš blocks non-admin from adding candidate (48ms)
      âˆš allows admin to deactivate candidate
      âˆš blocks adding candidate with empty name
    Phase Management
      âˆš allows admin to advance to reveal phase
      âˆš allows admin to advance to finish phase
      âˆš blocks non-admin from advancing phase
      âˆš blocks phase advancement in wrong order
    Voting Process
      âˆš allows eligible voter to commit vote
      âˆš blocks ineligible voter from committing
      âˆš blocks double voting
      âˆš blocks committing empty hash
      âˆš allows vote revealing in reveal phase
      âˆš blocks revealing with wrong salt
      âˆš blocks revealing in wrong phase
      âˆš blocks revealing without commit
    Vote Tallying
      âˆš correctly tallies votes
      âˆš returns correct tally array
    Voter Status Tracking
      âˆš tracks voter commit and reveal status
    Gas Usage
Commit vote gas used: 120884
      âˆš should use reasonable gas for voting operations
    Election Reset
      âˆš allows admin to reset election after completion
      âˆš blocks reset before election is finished


  25 passing (6s)

